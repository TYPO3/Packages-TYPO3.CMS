{namespace bu = Tx_Beuser_ViewHelpers}

<f:layout name="Default" />

<f:section name="iconButtons">
	<f:link.action action="index"><bu:SpriteManagerIcon iconName="actions-view-go-back" /></f:link.action>
</f:section>

<f:section name="content">
	<h3><f:translate key="compareBackendUsers">Compare backend users</f:translate></h3>

	<table border="0" cellpadding="0" cellspacing="0" class="typo3-dblist">
		<tr class="t3-row-header">
			<td class="label"></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<a href="#" onClick="showClickmenu('be_users', '{compareUser.uid}', '1', '', '', ''); return false;" title="id={compareUser.uid}">
						<bu:SpriteIconForRecord table="be_users" object="{compareUser}" />
					</a>
					{compareUser.userName}
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="realName">Real name</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>{compareUser.realName}</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="email">Email</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.email}">
						<f:link.email email="{compareUser.email}" />
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="admin">Admin</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.admin}">
						<f:then>
							<f:translate key="yes">Yes</f:translate>
						</f:then>
						<f:else>
							<f:translate key="no">No</f:translate>
						</f:else>
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="disable">Disable</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.disable} == 1">
						<f:then>
							<a href="<bu:issueCommand parameters="tce_db.php?&data[be_users][{compareUser.uid}][disable]=0&redirect={redirectUrl}" />">
								<bu:SpriteManagerIcon iconName="actions-edit-unhide" options="{title: 'unhide'}" />
							</a>
						</f:then>
						<f:else>
							<a href="<bu:issueCommand parameters="tce_db.php?&data[be_users][{compareUser.uid}][disable]=1&redirect={redirectUrl}" />">
								<bu:SpriteManagerIcon iconName="actions-edit-hide" options="{title: 'hide'}" />
							</a>
						</f:else>
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5>Start</h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.startTime}">
						<f:format.date format="{dateFormat} {timeFormat}">{compareUser.startTime}</f:format.date>
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5>Stop</h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.endTime}">
						<f:format.date format="{dateFormat} {timeFormat}">{compareUser.endTime}</f:format.date>
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="lastLogin">Last login</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.lastLogin}">
						<f:then>
							<f:format.date format="{dateFormat} {timeFormat}">{compareUser.lastLogin}</f:format.date>
						</f:then>
						<f:else>
							<f:translate key="never">Never</f:translate>
						</f:else>
					</f:if>
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="allowedLanguages">Limit to languages</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<bu:display.sysLanguage uids="{compareUser.allowedLanguages}" />
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="dbMountPoints">DB mountpoints</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<bu:display.pages uids="{compareUser.dbMountPoints}" />
				</td>
			</f:for>
		</tr>
		<tr>
			<td><h5><f:translate key="fileMounts">File mountpoints</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<bu:display.sysFileMounts uids="{compareUser.fileMountPoints}" />
				</td>
			</f:for>
		</tr>

		<tr>
			<td><h5><f:translate key="disableIpLock">Disable IP lock</f:translate></h5></td>
			<f:for each="{compareUserList}" as="compareUser">
				<td>
					<f:if condition="{compareUser.disableIPlock} == 1">
						<f:then>
							Yes
						</f:then>
						<f:else>
							No
						</f:else>
					</f:if>
				</td>
			</f:for>
		</tr>
	</table>

</f:section>